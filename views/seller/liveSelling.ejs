<link rel="stylesheet" href="/public/assets/css/seller/liveSelling.css">
<script defer src="/public/script/seller/live/general.js" type="module"></script>
<script defer src="/public/script/seller/live/groupChat.js" type="module"></script>
<script defer src="/public/script/seller/live/sessionProducts.js" type="module"></script>

<div class="main-container">
    <div class="header-container">
        <div class="left">
            <p class="lbl-title">Live Selling Seller</p>
            <p id="uid" hidden>
                <%- uid %>
            </p>
        </div>
        <div class="countdown">
            <p class="sub-text">Time Remaining</p>
            <p class="timer" id="lblTimer">00:00:00</p>
        </div>
        <div class="right">
            <button class="customers dropdown-toggle" id="btnCustomerList" type="button" data-toggle="dropdown"
                aria-expanded="false">Customer List</button>
            <div class="dropdown-menu" id="dynamicCustomerContainer">
                <div id="noCustomer" class="no-customer">
                    You have no viewers ðŸ˜­
                </div>
            </div>
            <button class="exit-live-selling" id="btnExitLive" data-toggle="modal" data-target="#exitLiveModal">End
                Session</button>
        </div>
    </div>
    <div class="body-container">
        <div class="product-selection">
            <p class="lbl-title">Product Selection</p>
            <div class="product-list"></div>
        </div>
        <div class="live-selling">
            <div class="video" id="video-container">
                <p class="label">Live</p>
                <div class="viewer-count">
                    <ion-icon name="person-sharp"></ion-icon>
                    <p class="views" id="lblViewCount">0</p>
                </div>
                <!-- Video will be generated here -->
                <!-- <video src=""></video> -->
            </div>
            <div class="product">
                <p style="color: #9f9f9f;">Please select a product.</p>
            </div>
        </div>
        <div class="chat-box">
            <div class="chat">
                <div class="conversation"></div>
                <div class="input-form">
                    <input type="text" id="txtInputChat" placeholder="Aa">
                    <button id="btnInputChat">
                        <ion-icon name="paper-plane-outline"></ion-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Exit Modal -->
<div class="modal fade" id="exitLiveModal" tabindex="-1" aria-labelledby="exitLiveLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body modal-exit">
                <ion-icon name="warning"></ion-icon>
                <p class="modal-title">Are you sure?</p>
                <p class="modal-label">You are about to end this live stream session.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                <button type="button" class="btn btnExit btn-primary" id="btnExit">Yes</button>
            </div>
        </div>
    </div>
</div>

<!-- Report Modal -->
<div class="modal fade" id="reportModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Report Customer</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body modal-report">
                <label for="exampleFormControlInput1">Please state your reason for reporting this user:</label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoProfilePic"
                        value="Inappropriate profile picture" checked>
                    <label class="form-check-label" for="rdoProfilePic">
                        Inappropriate profile picture.
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoChats"
                        value="Inappropriate chats">
                    <label class="form-check-label" for="rdoChats">
                        Inappropriate chats
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoSpam"
                        value="Spam/advertising">
                    <label class="form-check-label" for="rdoSpam">
                        Spam (ads, self-promotion)
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoHarassment"
                        value="Harassment">
                    <label class="form-check-label" for="rdoHarassment">
                        Harassment
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoFraud"
                        value="Fraud">
                    <label class="form-check-label" for="rdoFraud">
                        Fraud
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="rdoReport" id="rdoOther"
                        value="Other">
                    <label class="form-check-label" for="rdoOther">
                        Other
                    </label>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label for="reportDetail">Details about the issue</label>
                    <textarea class="form-control" id="reportDetail" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="btnReportCustomer">Report</button>
            </div>
        </div>
    </div>
</div>

<!-- Buy Toast -->
<div class="position-fixed top-0 right-0 p-3" style="z-index: 99; right: 0; top: 0;">
    <div id="buyToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="3000"
        style="width: 500px">
        <div class="toast-header">
            <img src="/public/assets/images/mainLogo.png" class="mr-2" style="width: 35px; height: 35px;">
            <strong class="mr-auto">City Sales Cloud</strong>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="toast-body" style="display: flex; align-items: center; color: limegreen;">
            <div class="tost-icon"
                style=" display: flex; align-items: center; justify-content: center; margin-right: 10px;">
                <ion-icon name="cash-outline" style="font-size: 25px; margin-right: 5px;"></ion-icon>
            </div>
            <div class="tost-message"></div>
        </div>
    </div>
</div>